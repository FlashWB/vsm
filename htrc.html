<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>vsm.extensions.htrc &mdash; vsm 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="vsm 0.1 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">vsm 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-vsm.extensions.htrc">
<span id="vsm-extensions-htrc"></span><h1>vsm.extensions.htrc<a class="headerlink" href="#module-vsm.extensions.htrc" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="vsm.extensions.htrc.add_link">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">add_link</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.add_link" title="Permalink to this definition">¶</a></dt>
<dd><p>if <cite>s</cite> is a url, then adds anchor tags for html representation in ipynb.</p>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_find_duplicates">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_find_duplicates</tt><big>(</big><em>metadata</em>, <em>vol_list</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_find_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes metadata and a list of volumes and finds duplicates
amongst the volumes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metadata</strong> (<em>dictionary</em>) &#8211; Dictionary of metadata. Output of
htrc_load_metadata_86() or htrc_load_metadata_1315()
is acceptable.</li>
<li><strong>vol_list</strong> (<em>list</em>) &#8211; List of volumes. An example of a volume is
&#8216;uc2.ark+=13960=t73t9h556&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">indices : the indices of duplicates from <cite>vol_list</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">htrc_load_metadata_86, :meth: htrc_load_metadata_1315</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_get_titles">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_get_titles</tt><big>(</big><em>metadata</em>, <em>vol_id</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_get_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets titles of the volume given the metadata from a json file
and volume id.</p>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_label_fn_1315">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_label_fn_1315</tt><big>(</big><em>metadata</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_label_fn_1315" title="Permalink to this definition">¶</a></dt>
<dd><p>A customized label function for hathitrust 1315 volumes.
It loads the metadata of htrc 86 and returns book title labels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metadata</strong> (<em>array</em>) &#8211; Strucutred array that has &#8216;book_label&#8217; field.
Most likely the output of Corpus.view_metadata(&#8216;book&#8217;).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An array of labels that consist of book titles.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">Corpus.view_metadata</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_label_fn_86">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_label_fn_86</tt><big>(</big><em>metadata</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_label_fn_86" title="Permalink to this definition">¶</a></dt>
<dd><p>A customized label function for hathitrust 86 volumes.
It loads the metadata of htrc 86 and returns labels that consist of
file names which are pages and book titles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metadata</strong> (<em>array</em>) &#8211; Strucutred array that has &#8216;file&#8217; and &#8216;book_label&#8217; field.
Most likely the output of Corpus.view_metadata(&#8216;page&#8217;).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An array of labels that consist of file names and book titles.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">Corpus.view_metadata</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_label_link_fn_1315">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_label_link_fn_1315</tt><big>(</big><em>metadata</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_label_link_fn_1315" title="Permalink to this definition">¶</a></dt>
<dd><p>A customized label function for hathitrust 1315 volumes.
It loads the metadata of htrc 1315 and returns book title labels and their urls
that open up the book on hathitrust website.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metadata</strong> (<em>array</em>) &#8211; Strucutred array that has &#8216;book_label&#8217; field.
Most likely the output of Corpus.view_metadata(&#8216;page&#8217;).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An array of labels for books and book urls.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">Corpus.view_metadata, :meth: htrc_label_fn_1315</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_label_link_fn_86">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_label_link_fn_86</tt><big>(</big><em>metadata</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_label_link_fn_86" title="Permalink to this definition">¶</a></dt>
<dd><p>A customized label function for hathitrust 86 volumes.
It loads the metadata of htrc 86 and returns pages, book title labels, and page urls
that open up the page on hathitrust website.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metadata</strong> (<em>array</em>) &#8211; Strucutred array that has &#8216;file&#8217;, and &#8216;book_label&#8217; field.
Most likely the output of Corpus.view_metadata(&#8216;page&#8217;).</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An array of labels for pages, books, and page urls.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">Corpus.view_metadata, :meth: htrc_label_fn_86</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_load_metadata_1315">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_load_metadata_1315</tt><big>(</big><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_load_metadata_1315" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads hathitrust metadata for the 1315 volumes.</p>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.htrc_load_metadata_86">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">htrc_load_metadata_86</tt><big>(</big><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.htrc_load_metadata_86" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads hathitrust metadata for the 86 volumes.</p>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.proc_htrc_book">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">proc_htrc_book</tt><big>(</big><em>book, coll_dir, ignore=['.json', '.log']</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.proc_htrc_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up page headers, line breaks, and hyphens for all plain pages in the book directory. 
Creates a log file for debugging purposes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>book</strong> (<em>string</em>) &#8211; The name of the book directory in coll_dir.</li>
<li><strong>coll_dir</strong> (<em>string</em>) &#8211; The path for collection.</li>
<li><strong>ignore</strong> (<em>list of strings, optional</em>) &#8211; List of file extensions to ignore in the directory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">rm_pg_headers, :meth: rm_lb_hyphens</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.proc_htrc_coll">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">proc_htrc_coll</tt><big>(</big><em>coll_dir, ignore=['.json', '.log']</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.proc_htrc_coll" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a collection, cleans up plain page files for books in the collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coll_dir</strong> (<em>string</em>) &#8211; The path for collection.</li>
<li><strong>ignore</strong> (<em>list of strings, optional</em>) &#8211; List of file extensions to ignore in the directory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">proc_htrc_book</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.rm_lb_hyphens">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">rm_lb_hyphens</tt><big>(</big><em>plain_root, logger, ignore=['.json', '.log']</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.rm_lb_hyphens" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for a hyphen followed by whitespace or a line break.</p>
<p>Reconstructs word and checks to see if the result exists in either
WordNet or the OS&#8217;s default spellchecker dictionary. If so,
replaces fragments with reconstructed word.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plain_root</strong> (<em>string</em>) &#8211; The name of the directory containing plain-text 
files.</li>
<li><strong>logger</strong> (<em>Logger</em>) &#8211; Logger that handles logging for the given directory.</li>
<li><strong>ignore</strong> (<em>list of strings, optional</em>) &#8211; List of file extensions to ignore in the directory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.rm_pg_headers">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">rm_pg_headers</tt><big>(</big><em>plain_root, logger, bound=1, ignore=['.json', '.log']</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.rm_pg_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to detect repeated page headers (e.g., chapter titles). If
found, removes them.</p>
<p>The routine takes the first non-empty lines of text, strips them
of numbers and punctuation and computes frequencies. If frequency
for the reduced string exceeds <cite>bound</cite>, the corresponding first
lines are considered headers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>plain_root</strong> (<em>string</em>) &#8211; The name of the directory containing plain-text 
files.</li>
<li><strong>logger</strong> (<em>Logger</em>) &#8211; Logger that handles logging for the given directory.</li>
<li><strong>bound</strong> &#8211; Number of frequency of a reduced string. If the string
appears more than <cite>bound</cite>, then the corresponding first lines are
considered headers. Default is 1.</li>
<li><strong>bound</strong> &#8211; int, optional</li>
<li><strong>ignore</strong> (<em>list of strings, optional</em>) &#8211; List of file extensions to ignore in the directory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vsm.extensions.htrc.url_metadata">
<tt class="descclassname">vsm.extensions.htrc.</tt><tt class="descname">url_metadata</tt><big>(</big><em>corpus</em>, <em>ctx_type</em>, <em>coll_dir</em><big>)</big><a class="headerlink" href="#vsm.extensions.htrc.url_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of urls whose order matches with the existing metadata.
It creates url metadata that can be added to a Corpus object with
add_metadata function in vsm.corpus.util.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>corpus</strong> (<em>Corpus</em>) &#8211; Corpus to add url metadata to. Urls match with the existing
metadata of <cite>corpus</cite>.</li>
<li><strong>ctx_type</strong> (<em>string</em>) &#8211; A type of tokenization.</li>
<li><strong>coll_dir</strong> (<em>string</em>) &#8211; Path for the collection directory. Either htrc 86 plain
or htrc 1315 plain directory.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">md : List of urls to be added to corpus</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">See Also:</th><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">meth:</th><td class="field-body">add_metadata</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/htrc.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">vsm 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, vsm development team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>